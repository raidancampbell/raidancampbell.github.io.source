<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="579px" preserveAspectRatio="none" style="width:698px;height:579px;" version="1.1" viewBox="0 0 698 579" width="698px" zoomAndPan="magnify"><defs><filter height="300%" id="fnk9cjr1jnnzw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><path d="M155.0662,99.9875 C158.0553,93.7257 163.897,92.8066 168.0193,98.7886 C171.5627,91.3805 177.6072,90.8111 182.2628,97.6789 C185.467,92.3896 189.5399,91.5064 193.6515,96.6924 C198.4569,91.4805 203.7015,92.7945 206.7638,98.7408 C210.7834,91.229 215.9341,92.0912 220.7453,97.9105 C225.277,91.8167 231.3973,93.7157 233.9321,100.0323 C239.9773,104.1367 240.6578,109.8742 234.0338,114.0703 C240.5091,116.7888 240.3448,121.9817 235.4424,126.0391 C241.8313,130.1943 241.4216,135.8969 234.3699,138.9342 C240.1515,142.6023 240.751,147.6922 234.4453,151.4332 C231.1454,158.0064 224.9834,158.894 221.0487,152.068 C218.1116,158.2691 212.2001,159.4301 208.3813,152.9486 C203.6143,160.3338 198.319,159.7766 194.0186,152.4917 C190.9077,159.353 186.3442,159.9355 181.9303,153.6938 C177.6666,158.6961 173.2762,159.6589 169.6783,152.9946 C165.5622,159.3541 158.7495,160.5964 154.5755,153.0576 C146.3513,148.8337 147.2298,143.2693 153.8269,138.2938 C147.7464,135.2434 147.12,130.4684 152.3527,126.0553 C145.6082,121.7552 147.3404,116.0354 153.6441,113.0288 C148.6823,108.1378 147.4253,103.5043 155.0662,99.9875 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><path d="M564.0021,354.5364 C566.2946,348.595 570.1136,348.2862 574.0918,352.9296 C577.4945,348.5817 582.5209,348.8992 585.2349,353.7627 C588.8019,348.6577 592.2517,347.6633 596.8851,352.515 C599.6394,346.1151 605.4897,346.604 608.6704,352.0922 C610.9879,346.7928 615.4423,346.0071 618.7362,351.151 C622.8783,345.7266 626.3088,346.8871 629.5292,352.0872 C632.5679,347.5094 636.4787,347.3362 640.0782,351.4029 C645.3017,345.8777 649.2991,346.8699 652.595,353.4037 C654.72,349.0553 658.8401,348.0469 661.726,352.6253 C665.7361,346.7284 670.0027,346.859 673.2202,353.3601 C681.2807,354.6711 682.6248,361.3978 677.5142,366.8892 C684.8964,369.8194 686.5937,374.038 680.6172,380.1048 C685.2218,385.5619 683.7359,390.142 677.051,392.2969 C682.0451,398.1598 680.8624,403.0369 673.4797,405.5695 C670.9159,411.9634 667.526,412.7691 662.733,407.6503 C659.8764,413.795 656.5738,414.6369 651.6214,409.764 C648.3087,415.6434 644.5444,415.0777 640.9068,410.0842 C638.7693,415.2192 633.7659,417.5056 629.8143,411.97 C626.9597,418.144 621.7559,418.2986 618.0209,412.8644 C613.7444,417.3575 611.1283,415.5902 608.6263,411.0241 C603.4647,415.7805 599.1407,416.9065 595.521,409.3791 C592.0661,413.6148 587.6339,414.5766 584.723,408.7928 C581.7413,414.1891 577.19,413.6999 574.6148,408.4083 C570.3892,411.9539 566.1128,411.1618 564.6523,405.4368 C559.3186,401.7421 558.5781,398.0366 563.7238,393.525 C556.3105,390.2724 556.8127,383.2373 562.9266,379.2303 C557.6762,375.8306 556.3985,370.7431 562.4245,366.8847 C556.2726,362.4028 557.4787,357.3988 564.0021,354.5364 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><!--MD5=[aa2b8c318e362b7052ffbdf71ed8d6f7]
cluster Go code--><polygon fill="#FFFFFF" filter="url(#fnk9cjr1jnnzw)" points="264.5,34,274.5,24,530.5,24,530.5,557,520.5,567,264.5,567,264.5,34" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="520.5" x2="529.5" y1="34" y2="25"/><line style="stroke: #000000; stroke-width: 1.5;" x1="264.5" x2="520.5" y1="34" y2="34"/><line style="stroke: #000000; stroke-width: 1.5;" x1="520.5" x2="520.5" y1="34" y2="567"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="361" y="49.9951">Go code</text><!--MD5=[9c0f4f7c79b8a5efd0f98ec08ae87d77]
cluster Chain of Responsibility--><polygon fill="#FFFFFF" filter="url(#fnk9cjr1jnnzw)" points="288.5,72,481.5,72,488.5,94.2969,506.5,94.2969,506.5,543,288.5,543,288.5,72" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="288.5" x2="488.5" y1="94.2969" y2="94.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187" x="292.5" y="86.9951">Chain of Responsibility</text><!--MD5=[3158f9966ed01317d9e0f28e57cb2143]
entity event--><rect fill="#FEFECE" filter="url(#fnk9cjr1jnnzw)" height="36.2969" style="stroke: #000000; stroke-width: 1.5;" width="62" x="162.5" y="107"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="172.5" y="129.9951">Event</text><!--MD5=[de37ba23f1cf3ea5ccd38ed6a117b046]
entity elsewhere--><rect fill="#FEFECE" filter="url(#fnk9cjr1jnnzw)" height="36.2969" style="stroke: #000000; stroke-width: 1.5;" width="93" x="571" y="361"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="581" y="383.9951">Elsewhere</text><!--MD5=[fd653a43105205fc53e935418e72fe3b]
entity context--><rect fill="#FEFECE" filter="url(#fnk9cjr1jnnzw)" height="36.2969" style="stroke: #000000; stroke-width: 1.5;" width="186" x="304.5" y="107"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="166" x="314.5" y="129.9951">Create Context with ID</text><!--MD5=[e9a90714276ab294ed5129054bbe5607]
entity enrich--><rect fill="#FEFECE" filter="url(#fnk9cjr1jnnzw)" height="36.2969" style="stroke: #000000; stroke-width: 1.5;" width="111" x="319" y="226.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="329" y="249.4951">Enrich event</text><!--MD5=[42f5dcd2bb0ba87fb960d0d08bcd7c79]
entity filter--><rect fill="#FEFECE" filter="url(#fnk9cjr1jnnzw)" height="36.2969" style="stroke: #000000; stroke-width: 1.5;" width="104" x="314.5" y="361"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="324.5" y="383.9951">Filter event</text><!--MD5=[1747cb7057895507e0d93607c323836e]
entity forward--><rect fill="#FEFECE" filter="url(#fnk9cjr1jnnzw)" height="36.2969" style="stroke: #000000; stroke-width: 1.5;" width="123" x="336" y="491"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="346" y="513.9951">Forward event</text><!--MD5=[f9ba5bf973e7832d2ce5ed59077b93f7]
entity DB--><path d="M6,232 C6,222 26.5,222 26.5,222 C26.5,222 47,222 47,232 L47,257.2969 C47,267.2969 26.5,267.2969 26.5,267.2969 C26.5,267.2969 6,267.2969 6,257.2969 L6,232 " fill="#FEFECE" filter="url(#fnk9cjr1jnnzw)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M6,232 C6,242 26.5,242 26.5,242 C26.5,242 47,242 47,232 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="16" y="258.9951">DB</text><!--MD5=[14c03238f8e4370d30cbdd1440e31920]
link event to context--><path d="M224.578,125 C249.383,125 274.187,125 298.991,125 " fill="none" id="event-&gt;context" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="304.284,125,295.284,121,299.284,125,295.284,129,304.284,125" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[53b02c494301c5b66d31426280398310]
link context to enrich--><path d="M394.156,143.086 C390.102,163.796 383.262,198.74 378.814,221.46 " fill="none" id="context-&gt;enrich" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="377.848,226.394,383.502,218.3297,378.8082,221.4871,375.6509,216.7933,377.848,226.394" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="388.5" y="188.0669">context has ID</text><!--MD5=[7f49cc73863a682b953ec4ce6ecbb2d5]
reverse link DB to enrich--><path d="M52.4101,244.5 C108.526,244.5 242.375,244.5 318.693,244.5 " fill="none" id="DB&lt;-enrich" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="47.2268,244.5,56.2268,248.5,52.2268,244.5,56.2268,240.5,47.2268,244.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="65.5" y="237.5669">context has ID and deadline</text><!--MD5=[29bca9e1a3aa318e6cb20aec10a74fde]
link enrich to filter--><path d="M373.471,262.551 C372.038,286.271 369.442,329.27 367.854,355.568 " fill="none" id="enrich-&gt;filter" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="367.551,360.594,372.0864,351.8516,367.8525,355.6031,364.1009,351.3692,367.551,360.594" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="373" y="310.0669">context has ID and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="372.5" y="325.1997">enriched metadata</text><!--MD5=[a29ae54e99440b36ad9d9f1442614e10]
link filter to forward--><path d="M370.681,397.263 C376.204,420.07 385.945,460.289 392.043,485.4689 " fill="none" id="filter-&gt;forward" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="393.286,490.6021,395.0546,480.9133,392.1088,485.7427,387.2795,482.7969,393.286,490.6021" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="388" y="442.0669">context has ID and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="387.5" y="457.1997">enriched metadata</text><!--MD5=[0e895ae603912cea5c2e16d4837f0594]
reverse link elsewhere to forward--><path d="M596.5,400.536 C577.406,418.353 547.812,443.9 518.5,461 C497.866,473.037 473.575,483.1643 452.192,490.8991 " fill="none" id="elsewhere&lt;-forward" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="600.176,397.081,590.8787,400.3307,596.5329,400.5056,596.358,406.1597,600.176,397.081" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="563" y="442.0669">context has ID and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="562.5" y="457.1997">enriched metadata</text><!--MD5=[ae8c3215fe0533b0a42d4163dad156e7]
@startuml
cloud {
  rectangle "Event" as event
}

cloud {
  rectangle "Elsewhere" as elsewhere
}

node "Go code" {
  package "Chain of Responsibility" {
    rectangle "Create Context with ID" as context
    rectangle "Enrich event" as enrich
    rectangle "Filter event" as filter
    rectangle "Forward event" as forward
  }
}

database "DB"

event -right-> context
context - -> enrich : context has ID
enrich -left-> DB : "context has ID and deadline              "
enrich - -> filter : context has ID and\nenriched metadata
filter - -> forward : context has ID and\nenriched metadata 
forward -up-> elsewhere: context has ID and\nenriched metadata
@enduml

PlantUML version 1.2020.10(Sun May 17 09:48:49 UTC 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>